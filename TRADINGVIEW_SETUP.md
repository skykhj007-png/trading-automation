# 📈 TradingView 통합 전략 설정 가이드

## 🎯 단계별 설정 방법

### 1단계: Pine Script 추가

1. **TradingView 열기**
   - https://www.tradingview.com 접속
   - 차트 열기

2. **Pine Editor 열기**
   - 화면 하단의 "Pine Editor" 탭 클릭
   - 또는 `Alt + E` 단축키

3. **코드 복사 & 붙여넣기**
   ```
   파일: TradingView-Integrated-Strategy.pine

   1. 파일 전체 내용 복사
   2. Pine Editor에 붙여넣기
   3. "Save" 클릭
   4. 이름: "통합 전략 (불장단타왕 + 클로드21)"
   ```

4. **차트에 추가**
   - "Add to Chart" 버튼 클릭
   - 차트에 지표가 표시됨

---

### 2단계: 지표 설정 조정

**Settings 아이콘 (톱니바퀴) 클릭**

#### 📊 Inputs 탭

##### 기본 설정 (균형 - 추천)
```
레버리지: 5
투입 비율: 20%
TP1 수익률: 0.8%
TP2 수익률: 1.5%
손절 비율: 0.3%
최소 신호 강도: 12
엄격 모드: ✅ 체크
멀티타임프레임 필터 사용: ✅ 체크
```

##### 공격적 설정 (많은 거래)
```
최소 신호 강도: 10
엄격 모드: ❌ 해제
```

##### 보수적 설정 (높은 승률)
```
최소 신호 강도: 15
엄격 모드: ✅ 체크
손절 비율: 0.2%
```

#### 🎨 Style 탭

주요 라인 표시:
- ✅ VWAP 100 (보라색, 굵게)
- ✅ MA 50 (주황색)
- ✅ MA 200 (파란색)
- ✅ EMA20/50 (15분봉, 투명하게)

---

### 3단계: 타임프레임 설정

**중요!** 이 전략은 **1분봉**에서 사용하도록 설계되었습니다.

1. 차트 상단의 타임프레임 선택
2. **1m (1분봉)** 선택
3. 다른 타임프레임에서도 작동하지만, 최적화는 1분봉 기준

---

### 4단계: 알람 설정

#### 방법 1: 개별 알람 (수동 거래용)

1. **알람 생성**
   - 차트 우측 상단 "Alert" 아이콘 클릭 (시계 모양)
   - 또는 `Alt + A`

2. **조건 설정**
   ```
   Condition: 통합 전략 (불장단타왕 + 클로드21)

   옵션 1 - LONG 신호만:
   - "alert() function calls only"
   - Message에 {{plot_0}} 또는 직접 작성

   옵션 2 - 모든 신호:
   - "Any alert() function call"
   ```

3. **알람 옵션**
   ```
   Alert name: "통합 전략 신호"
   Once Per Bar Close: ✅ 체크 (중요!)

   알림 방법:
   ✅ Notify on App
   ✅ Show popup
   ✅ Send email (이메일 알림 원하면)
   ✅ Webhook URL (자동화 원하면)
   ```

4. **알람 메시지**
   ```
   🔥 통합 전략 신호 발생!

   신호: {{plot("최종 신호")}}
   진입가: {{close}}
   종합 점수: {{plot("totalScore")}}

   불장단타왕: {{plot("bulJangScore")}}/10
   클로드21: {{plot("claude21Score")}}/8
   필터: {{plot("filterScore")}}/6

   TP1: {{plot("TP1")}}
   TP2: {{plot("TP2")}}
   SL: {{plot("SL")}}

   {{time}} {{exchange}} {{ticker}}
   ```

#### 방법 2: Webhook (자동 거래용)

**Google Apps Script와 연동**

1. **Apps Script 웹 앱 배포**
   ```javascript
   // Apps Script에 추가할 코드
   function doPost(e) {
     const data = JSON.parse(e.postData.contents);

     // 신호 처리
     if (data.signal === 'LONG') {
       integratedStrategy(); // 기존 전략 실행
     }

     return ContentService.createTextOutput("OK");
   }
   ```

2. **Webhook URL 설정**
   ```
   TradingView Alert > Webhook URL:
   https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec
   ```

3. **알람 메시지 (JSON 형식)**
   ```json
   {
     "signal": "{{strategy.order.action}}",
     "entry": "{{close}}",
     "totalScore": "{{plot(\"totalScore\")}}",
     "tp1": "{{plot(\"TP1\")}}",
     "tp2": "{{plot(\"TP2\")}}",
     "sl": "{{plot(\"SL\")}}"
   }
   ```

---

### 5단계: 차트 확인

#### 🟢 LONG 신호가 나타날 때

**차트에 표시되는 것:**
1. 🔺 초록색 삼각형 (차트 아래)
2. 📋 신호 라벨 (상세 정보)
3. 📊 TP1/TP2/SL 라인

**라벨 내용:**
```
🔥 통합 LONG
진입: $XX,XXX
점수: 15.0/12
━━━━━━━━━━━━
불장: 8/10 ✅V ✅T ✅정
클로드: 5/8 ✅15 ✅5
필터: 4/6 ✅회귀 ✅200
━━━━━━━━━━━━
TP1: $XX,XXX (50%)
TP2: $XX,XXX (50%)
SL: $XX,XXX
```

**우측 상단 테이블:**
```
🎯 통합 전략 | 15.0/24점
현재가 | $XX,XXX
📊 불장단타왕 | 8/10
  VWAP 터치 | ✅
  터닝포인트 | ✅
  정배열 | ✅
🎯 클로드21 | 5/8
  15분봉 | 🟢 BULL
  5분봉 | 🟢 BULL
🔍 필터 | 4/6
  평균회귀 | ✅
최종 신호 | 🚀 LONG
```

#### 🔴 SHORT 신호

- 🔻 빨간색 역삼각형 (차트 위)
- 동일한 형식의 라벨 및 라인

#### ⚪ 약한 신호 (필터링됨)

- ◯ 회색 작은 원
- 신호가 감지되었지만 점수가 부족하여 필터링됨

---

## 📊 차트 읽는 법

### 이동평균선 의미

| 선 | 색상 | 의미 |
|----|------|------|
| **VWAP 100** | 보라색 (굵음) | 가장 중요! 지지/저항선 |
| **MA 50** | 주황색 | 중기 트렌드 |
| **MA 200** | 파란색 | 장기 트렌드 |
| EMA20 (15m) | 초록색 (얇음) | 15분봉 단기 |
| EMA50 (15m) | 빨간색 (얇음) | 15분봉 중기 |

### 신호 강도 해석

| 점수 | 평가 | 행동 |
|------|------|------|
| 18~24 | 🔥🔥 매우 강력 | 즉시 진입 추천 |
| 15~17 | 🔥 강력 | 진입 권장 |
| 12~14 | ✅ 양호 | 진입 가능 (기본) |
| 10~11 | ⚠️ 약함 | 신중하게 판단 |
| <10 | ❌ 매우 약함 | 진입 금지 |

---

## 🎮 실전 사용법

### 진입 체크리스트

**신호 발생 시:**
1. [ ] 차트에 🔺 또는 🔻 표시됨
2. [ ] 점수 확인: XX/12 이상?
3. [ ] 라벨의 체크마크(✅) 개수 확인
4. [ ] 우측 테이블에서 각 전략 점수 확인
5. [ ] VWAP 100 위치 확인
6. [ ] 15분봉 트렌드 방향 일치?
7. [ ] TP/SL 가격 확인

**모두 OK → 진입!**

### 진입 후

1. **TP1 설정** (50% 물량)
   - 라벨에 표시된 TP1 가격에 지정가 매도

2. **TP2 설정** (나머지 50%)
   - 라벨에 표시된 TP2 가격에 지정가 매도

3. **SL 설정** (전체 물량)
   - 라벨에 표시된 SL 가격에 손절 주문
   - 또는 VWAP 100 하향 돌파 시 즉시 수동 손절

4. **포지션 모니터링**
   - TP1 도달 → 50% 익절 완료 → SL을 본전으로 이동
   - TP2 도달 → 전량 익절 완료

---

## ⚙️ 설정 최적화 팁

### 거래 빈도 조절

**너무 신호가 많을 때:**
```
최소 신호 강도: 12 → 15로 상향
엄격 모드: ✅ 켜기
```

**신호가 너무 적을 때:**
```
최소 신호 강도: 12 → 10으로 하향
엄격 모드: ❌ 끄기
```

### 손익비 조절

**단타 스타일:**
```
TP1: 0.5%
TP2: 1.0%
SL: 0.3%
```

**스윙 스타일:**
```
TP1: 1.5%
TP2: 3.0%
SL: 0.5%
```

---

## 🔧 문제 해결

### "지표가 차트에 안 보여요"

1. Pine Editor에서 "Add to Chart" 클릭했는지 확인
2. 차트 왼쪽 상단에 지표 이름이 있는지 확인
3. Settings에서 모든 plot이 체크되어 있는지 확인

### "신호가 전혀 안 나와요"

1. **타임프레임 확인**: 1분봉인지 확인
2. **최소 신호 강도 낮추기**: 12 → 10
3. **엄격 모드 끄기**
4. **코인 변경**: 변동성이 높은 코인으로 테스트

### "신호가 너무 많아요"

1. **최소 신호 강도 높이기**: 12 → 15
2. **엄격 모드 켜기**
3. **TP/SL 조정**: 손절을 더 타이트하게

### "알람이 안 와요"

1. TradingView 알람 설정 확인
2. "Once Per Bar Close" 체크 확인
3. 알람 횟수 제한 (무료: 1개, Pro: 20개 등) 확인
4. 이메일/앱 알림 권한 확인

---

## 📱 모바일 사용

TradingView 모바일 앱에서도 동일하게 작동:

1. 앱에서 차트 열기
2. Indicators → My Scripts
3. "통합 전략" 선택
4. 알람 설정 (모바일에서도 가능)

---

## 🎓 학습 추천

### 백테스팅

1. **Strategy Tester 탭** (차트 하단)
2. 과거 데이터로 신호 검증
3. 승률, 손익비 확인

### 페이퍼 트레이딩

1. TradingView Paper Trading 사용
2. 실전 투입 전 최소 1주일 테스트
3. 설정 조정하며 최적화

### 기록하기

매 거래마다:
- 진입 이유 (점수 스크린샷)
- 진입가/TP/SL
- 결과
- 배운 점

---

## 📞 추가 도움

- Pine Script 공식 문서: https://www.tradingview.com/pine-script-docs/
- TradingView 커뮤니티: https://www.tradingview.com/u/

---

**중요:** 실제 자금 투입 전 반드시 페이퍼 트레이딩으로 충분히 연습하세요!
