# TradingView 알림 설정 가이드

## 1. Pine Script 업데이트

### 1-1. 차트에서 지표 열기
1. TradingView 차트 열기
2. 하단 "Pine 편집기" 클릭
3. 또는 지표 이름 클릭 → "소스 코드..." 선택

### 1-2. 코드 교체
1. 기존 코드 전체 선택 (Ctrl+A)
2. 삭제 (Delete)
3. 새 코드 붙여넣기 (`TradingView-Claude25-Universal.pine` 파일 내용)
4. "저장" 클릭
5. "차트에 추가" 또는 "스크립트 업데이트" 클릭

---

## 2. 기존 알림 삭제

### 2-1. 알림 관리 열기
1. 차트 우측 상단 "알림" 아이콘 (종 모양) 클릭
2. 또는 단축키: Alt + A

### 2-2. 기존 알림 삭제
1. "클로드25" 관련 알림 찾기
2. 알림 우측 "..." 클릭 → "삭제" 선택
3. 모든 기존 알림 삭제

---

## 3. 새 알림 생성

### 3-1. 알림 생성 열기
1. 차트에서 우클릭 → "알림 추가..." 선택
2. 또는 단축키: Alt + A → "알림 생성" 버튼

### 3-2. 조건 설정
```
조건: 클로드25 유니버셜 (선물/현물/주식)
      ↓
     "모든 alert() 함수 호출" 선택
```

### 3-3. 알림 동작 설정

#### 알림 이름:
```
클로드25 자동매매
```

#### 메시지 (비워두기):
- 메시지 칸은 **비워두세요**
- Pine Script에서 자동으로 메시지 생성됨

### 3-4. 알림 받을 방법

#### 앱/이메일 알림 (깔끔한 형식):
- ✅ "앱에 알림 표시" 체크
- ✅ "이메일로 알림 보내기" 체크 (선택)

#### 웹훅 (자동매매용):
- ✅ "웹훅 URL" 체크
- URL 입력:
```
https://script.google.com/macros/s/[새 배포 ID]/exec
```

### 3-5. 만료 설정
```
만료: "열린 상태로 유지" 또는 원하는 기간 선택
```

### 3-6. 저장
- "생성" 버튼 클릭

---

## 4. 알림 형식 예시

### 새 알림 형식 (앱/이메일):
```
🟢 LONG BTC-USDT
━━━━━━━━━━━━━━━
진입: $97,500
TP1: $97,792.50 (+0.3%)
TP2: $97,987.50 (+0.5%)
SL: $97,353.75 (-0.15%)
━━━━━━━━━━━━━━━
레버리지: 50x | 점수: 18/28
🐋 고래 감지!
```

### SHORT 신호:
```
🔴 SHORT BTC-USDT
━━━━━━━━━━━━━━━
진입: $97,500
TP1: $97,207.50 (-0.3%)
TP2: $97,012.50 (-0.5%)
SL: $97,646.25 (+0.15%)
━━━━━━━━━━━━━━━
레버리지: 50x | 점수: 16/28
🐋 고래 매도!
```

### EXIT 경고:
```
⚠️ EXIT 경고 BTC-USDT
━━━━━━━━━━━━━━━
현재가: $97,500
사유: 고래 매도 감지
거래량: 3.5배
매도압력: 72.5%
```

---

## 5. 웹훅 URL 확인

### 새 배포 URL 얻기:
1. Google Apps Script 열기
2. "배포" → "새 배포"
3. 유형: "웹 앱"
4. 설명: "V27 업데이트"
5. 실행 권한: "나"
6. 액세스 권한: "모든 사용자"
7. "배포" 클릭
8. URL 복사

### URL 형식:
```
https://script.google.com/macros/s/AKfycb.../exec
```

---

## 6. 테스트

### 알림 테스트:
1. 차트에서 신호 발생 대기
2. 또는 짧은 시간프레임(1분)에서 테스트
3. 알림 수신 확인

### 웹훅 테스트:
1. 앱스크립트에서 로그 확인
2. "실행" → "실행 로그" 열기
3. "Webhook 수신" 메시지 확인

---

## 7. 문제 해결

### 알림이 안 오는 경우:
1. 알림 조건 확인 ("모든 alert() 함수 호출" 선택됨?)
2. 알림 만료 여부 확인
3. Pine Script 저장 및 차트에 적용됨?

### 웹훅 작동 안 하는 경우:
1. URL 정확한지 확인
2. 앱스크립트 새 배포 필요
3. 앱스크립트 실행 로그에서 오류 확인

### 알림 형식이 예전 그대로인 경우:
1. **기존 알림 삭제 필수!**
2. 새 알림 생성
3. Pine Script가 업데이트되었는지 확인

---

## 8. 지표 설정 값

### 기본 설정:
| 항목 | 기본값 | 설명 |
|------|--------|------|
| 거래 모드 | 선물 | 선물/현물코인/주식 |
| 레버리지 | 5x | 1~20x |
| 최소 신호 강도 | 10 | 8~20 |
| 엄격 모드 | ON | 고승률 모드 |
| 멀티TF 필터 | ON | 다중 타임프레임 확인 |

### 고배율 사용 시:
- 레버리지 설정 변경 (예: 50x, 100x)
- TP/SL이 자동으로 레버리지에 맞게 조정됨

---

## 요약 체크리스트

- [ ] Pine Script 새 코드로 업데이트
- [ ] 기존 알림 삭제
- [ ] 새 알림 생성 (조건: "모든 alert() 함수 호출")
- [ ] 웹훅 URL 입력 (새 배포 URL)
- [ ] 앱스크립트 Code.gs 업데이트
- [ ] 앱스크립트 새 배포
- [ ] 테스트 알림 확인
